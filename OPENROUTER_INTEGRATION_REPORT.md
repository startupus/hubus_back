# –û—Ç—á–µ—Ç –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ OpenRouter

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –£–±—Ä–∞–Ω—ã –∑–∞–≥–ª—É—à–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ OpenRouter

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**
- **`services/proxy-service/src/http/http.controller.ts`**: –ó–∞–º–µ–Ω–µ–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å OpenRouter
- **`services/proxy-service/src/proxy/proxy.service.ts`**: –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏ OpenRouter
- **`services/billing-service/init-pricing-data.sql`**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π OpenRouter

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ OpenRouter API
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –±–∏–ª–ª–∏–Ω–≥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### ‚úÖ 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–°–∏—Å—Ç–µ–º–∞ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- üá∑üá∫ **–†—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞**: `–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤` ‚Üí `[–û–ë–ï–ó–õ–ò–ß–ï–ù–û_1]`
- üì± **–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã**: `+7 (495) 123-45-67` ‚Üí `+7 (XXX) XXX-XX-XX`
- üè† **–†—É—Å—Å–∫–∏–µ –∞–¥—Ä–µ—Å–∞**: `–ú–æ—Å–∫–≤–∞ —É–ª–∏—Ü–∞ –¢–≤–µ—Ä—Å–∫–∞—è –¥–æ–º 1` ‚Üí `[–ê–î–†–ï–°_1]`
- üÜî **–†–æ—Å—Å–∏–π—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: `1234567890` (–ò–ù–ù) ‚Üí `XXXXXXXXXXXX`
- üìß **Email –∞–¥—Ä–µ—Å–∞**: `ivan@mail.ru` ‚Üí `user1@example.com`

### ‚úÖ 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ–º –∏ –±–µ–∑

**–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**
- `test-openrouter-russian.ps1` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `test-billing-models.ps1` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- `test-complete-openrouter-system.ps1` - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- `setup-openrouter.ps1` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

### ‚úÖ 4. –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã OpenRouter:**
- **GPT-4o Mini**: $0.00000015 –∑–∞ –≤—Ö–æ–¥–Ω–æ–π —Ç–æ–∫–µ–Ω, $0.0000006 –∑–∞ –≤—ã—Ö–æ–¥–Ω–æ–π
- **Claude 3.5 Haiku**: $0.0000008 –∑–∞ –≤—Ö–æ–¥–Ω–æ–π —Ç–æ–∫–µ–Ω, $0.000004 –∑–∞ –≤—ã—Ö–æ–¥–Ω–æ–π
- **Llama 3.1 8B**: $0.0000002 –∑–∞ –≤—Ö–æ–¥–Ω–æ–π —Ç–æ–∫–µ–Ω, $0.0000002 –∑–∞ –≤—ã—Ö–æ–¥–Ω–æ–π
- **Gemini Pro 1.5**: $0.00000125 –∑–∞ –≤—Ö–æ–¥–Ω–æ–π —Ç–æ–∫–µ–Ω, $0.000005 –∑–∞ –≤—ã—Ö–æ–¥–Ω–æ–π

### ‚úÖ 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥–∞

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–ª–ª–∏–Ω–≥-—Å–µ—Ä–≤–∏—Å–æ–º:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –±–∏–ª–ª–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ RabbitMQ
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter API –∫–ª—é—á–∞

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
./setup-openrouter.ps1
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –°–æ–∑–¥–∞–µ—Ç `.env` —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–∞—à OpenRouter API –∫–ª—é—á
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–∏—Å–∞–º
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OpenRouter

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```powershell
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
./docker-start.ps1
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```powershell
# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
./test-complete-openrouter-system.ps1

# –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
./test-openrouter-russian.ps1      # –†—É—Å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
./test-billing-models.ps1          # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ó–∞–ø—Ä–æ—Å –±–µ–∑ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è

```json
{
  "model": "openai/gpt-4o-mini",
  "messages": [
    {
      "role": "user",
      "content": "–ü—Ä–∏–≤–µ—Ç! –†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ –æ –ø–æ–≥–æ–¥–µ –≤ –ú–æ—Å–∫–≤–µ."
    }
  ],
  "temperature": 0.7,
  "max_tokens": 500,
  "userId": "test-user-123"
}
```

### –ó–∞–ø—Ä–æ—Å —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–±—É–¥–µ—Ç –æ–±–µ–∑–ª–∏—á–µ–Ω)

```json
{
  "model": "openai/gpt-4o-mini",
  "messages": [
    {
      "role": "user",
      "content": "–ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤, –º–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω +7 (495) 123-45-67, email: ivan@mail.ru. –†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ –æ –ø–æ–≥–æ–¥–µ –≤ –ú–æ—Å–∫–≤–µ."
    }
  ],
  "temperature": 0.7,
  "max_tokens": 500,
  "userId": "test-user-123"
}
```

## üîç –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –í–ª–∏—è–Ω–∏–µ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã

**–ë–µ–∑ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è:**
- –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~50
- –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~200
- –û–±—â–∏–µ —Ç–æ–∫–µ–Ω—ã: ~250
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.0001 USD

**–° –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ–º:**
- –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~60 (+20%)
- –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã: ~200
- –û–±—â–∏–µ —Ç–æ–∫–µ–Ω—ã: ~260 (+4%)
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.0001 USD (+4%)

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Ç–æ–∫–µ–Ω | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ |
|--------|-------------------|----------|----------|
| GPT-4o Mini | $0.00000015 | –ë—ã—Å—Ç—Ä–æ | –•–æ—Ä–æ—à–µ–µ |
| Claude 3.5 Haiku | $0.0000008 | –°—Ä–µ–¥–Ω–µ | –û—Ç–ª–∏—á–Ω–æ–µ |
| Llama 3.1 8B | $0.0000002 | –ë—ã—Å—Ç—Ä–æ | –•–æ—Ä–æ—à–µ–µ |

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –§–°–ë

### –°–∏—Å—Ç–µ–º–∞ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ** –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚úÖ **–ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π** –§–°–ë
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API** –¥–ª—è –§–°–ë

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

- ‚úÖ **–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã** –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞** –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞** —Ç–æ–ª—å–∫–æ –¥–ª—è –§–°–ë
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤** –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º
- **–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è**

### –ê–ª–µ—Ä—Ç—ã

- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤
- –û—à–∏–±–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   API Gateway   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Proxy Service   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   OpenRouter    ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                  ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è‚îÇ    ‚îÇ ‚Ä¢ –û–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ  ‚îÇ    ‚îÇ ‚Ä¢ GPT-4o Mini   ‚îÇ
‚îÇ ‚Ä¢ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è ‚îÇ    ‚îÇ ‚Ä¢ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ  ‚îÇ    ‚îÇ ‚Ä¢ Claude 3.5    ‚îÇ
‚îÇ ‚Ä¢ –ê–≥—Ä–µ–≥–∞—Ü–∏—è     ‚îÇ    ‚îÇ ‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è      ‚îÇ    ‚îÇ ‚Ä¢ Llama 3.1     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Billing Service ‚îÇ    ‚îÇAnalytics Service ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                  ‚îÇ
‚îÇ ‚Ä¢ –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏‚îÇ   ‚îÇ ‚Ä¢ –ú–µ—Ç—Ä–∏–∫–∏        ‚îÇ
‚îÇ ‚Ä¢ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏    ‚îÇ    ‚îÇ ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ    ‚îÇ
‚îÇ ‚Ä¢ –ë–∞–ª–∞–Ω—Å—ã       ‚îÇ    ‚îÇ ‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Üí API Gateway
2. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Üí Auth Service
3. **–û–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ** ‚Üí Anonymization Service
4. **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí Proxy Service ‚Üí OpenRouter
5. **–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏** ‚Üí Billing Service
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí Analytics Service

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

- ‚úÖ **–†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å OpenRouter
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞** –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è** –¥–ª—è –§–°–ë
- ‚úÖ **–ë–∏–ª–ª–∏–Ω–≥ –∏ —Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

- üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π** OpenRouter
- üîß **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RabbitMQ** –¥–ª—è –±–∏–ª–ª–∏–Ω–≥–∞
- üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** (Prometheus/Grafana)
- üîß **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è HTTPS
- üîß **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ OpenRouter –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 100%
- **–û–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏–µ** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ë–∏–ª–ª–∏–Ω–≥** —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
1. `./setup-openrouter.ps1` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞
2. `docker-compose up -d` - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤  
3. `./test-complete-openrouter-system.ps1` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ
