# üéâ –û–¢–ß–ï–¢ –û –†–ï–®–ï–ù–ò–ò –ü–†–û–ë–õ–ï–ú

## ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–ë–∞–ª–∞–Ω—Å –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø–æ—Å–ª–µ –ò–ò –∑–∞–ø—Ä–æ—Å–æ–≤** ‚úÖ –†–ï–®–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞:** API Gateway –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏–ª–∏ URL —Å `/billing/balance/:companyId` –Ω–∞ `/billing/company/:companyId/balance`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–∞–ª–∞–Ω—Å —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

#### 2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ billing service** ‚úÖ –†–ï–®–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥ `getBalance` –≤–æ–∑–≤—Ä–∞—â–∞–ª –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö
- **–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–µ—Ç–æ–¥–∞ `getBalance` –≤ billing service
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** API –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### 3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —á–µ—Ä–µ–∑ nginx** ‚úÖ –†–ï–®–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞:** nginx –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization –≤ API Gateway
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ `proxy_set_header Authorization $http_authorization` –≤ nginx.conf
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** API Gateway —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### 4. **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚úÖ –†–ï–®–ï–ù–û
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±—ã–ª–∞ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω–æ–π
- **–†–µ—à–µ–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º API —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º

### üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

#### ‚úÖ –ë–∞–ª–∞–Ω—Å:
- **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª $100.00 USD
- **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å $0.00 USD
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ë–∞–ª–∞–Ω—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π

#### ‚úÖ –ò–ò –∑–∞–ø—Ä–æ—Å—ã:
- **–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
- **–ë–∏–ª–ª–∏–Ω–≥:** –°–æ–±—ã—Ç–∏—è –±–∏–ª–ª–∏–Ω–≥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ RabbitMQ

#### ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- **–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–ù–ï –ü–†–û–ô–î–ï–ù–ê" —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å ai-certification-service

#### ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥:
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã
- **API –≤—ã–∑–æ–≤—ã:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ nginx proxy

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–£–±—Ä–∞–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–ª–∞–Ω—Å–æ–º
2. **–ò—Å–ø—Ä–∞–≤–∏–ª–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é** –º–µ–∂–¥—É API Gateway –∏ billing service
3. **–ù–∞—Å—Ç—Ä–æ–∏–ª–∏ nginx** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** —Å —Ä–µ–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º

### üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:

- **API Gateway:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **Billing Service:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **Frontend:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **Nginx:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ë–∞–ª–∞–Ω—Å:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- **–ò–ò –∑–∞–ø—Ä–æ—Å—ã:** ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç
- **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### üéØ –ò—Ç–æ–≥:

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω—ã!** –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ë–∞–ª–∞–Ω—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ò–ò –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—é!** üöÄ
