# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° –ë–ê–õ–ê–ù–°–û–ú

## üìã –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### **1. ‚úÖ Rate Limiting –≤ Billing Service**

**–ü—Ä–æ–±–ª–µ–º–∞:** API Gateway –ø—Ä–µ–≤—ã—à–∞–ª –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ billing service (100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **–£–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç** –¥–ª—è `getBalance` —Å 100 –¥–æ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ** –¥–ª—è API Gateway (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—ã–∑–æ–≤—ã)
- **–õ–æ–≥–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**
  ```typescript
  const isApiGateway = userAgent.includes('axios') || 
                      request.headers['x-internal-call'] === 'true' ||
                      request.ip?.startsWith('172.') || // Docker internal network
                      request.headers['x-forwarded-for']?.includes('172.');
  
  if (isApiGateway) {
    return true; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º rate limiting
  }
  ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Rate limiting –±–æ–ª—å—à–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç API Gateway

### **2. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**

**–ü—Ä–æ–±–ª–µ–º–∞:** DashboardComponent –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤ BillingComponent

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **–î–æ–±–∞–≤–ª–µ–Ω useEffect** –≤ DashboardComponent –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:
  ```javascript
  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  useEffect(() => {
    if (user?.balance !== undefined) {
      setBalance(user.balance);
    }
  }, [user?.balance]);
  ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ DashboardComponent —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ BillingComponent

### **3. ‚úÖ –û—Ç–ª–∞–¥–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—á–µ–º—É API Gateway –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ JWT

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ JWT —Å—Ç—Ä–∞—Ç–µ–≥–∏—é API Gateway
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ BillingService API Gateway
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:** JWT —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ JWT —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `60d88540-6c6a-4f86-b877-f23b911d970d`

### **4. ‚úÖ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ API Gateway**

**–ü—Ä–æ–±–ª–µ–º–∞:** API Gateway –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—Ç–≤–µ—Ç billing service –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–ª –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** –≤ API Gateway –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:
  ```typescript
  return {
    success: true,
    balance: {
      balance: parseFloat(String(response.balance || '0')),
      currency: response.currency || 'USD',
      creditLimit: parseFloat(String(response.creditLimit || '0'))
    },
    user: {
      id: req.user.id,
      email: req.user.email,
      role: req.user.role
    }
  };
  ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ API Gateway —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### **‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **Rate limiting** - –±–æ–ª—å—à–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç API Gateway
2. **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **Billing service** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–ª–∞–Ω—Å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ($260.00)
4. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –±–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **API Gateway** - –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç billing service –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ

### **‚ùå –û—Å—Ç–∞–≤—à–∞—è—Å—è –ø—Ä–æ–±–ª–µ–º–∞:**
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –≤ DashboardComponent** - –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç $0.00

## üìä –î–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –§—É–Ω–∫—Ü–∏—è | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|----------------|-------------------|--------|
| üîê **Rate limiting** | ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã | ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç API Gateway | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| üîë **JWT —Ç–æ–∫–µ–Ω** | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| üí∞ **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç |
| üîÑ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –†–∞–±–æ—Ç–∞–µ—Ç |
| üåê **API Gateway —Ñ–æ—Ä–º–∞—Ç** | ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| üìä **Dashboard –∑–∞–≥—Ä—É–∑–∫–∞** | ‚ùå $0.00 | ‚ùå $0.00 | –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |

## üîç –ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–≤—à–µ–π—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### **–ü—Ä–æ–±–ª–µ–º–∞: DashboardComponent –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –≤—Ö–æ–¥–µ**

**–°–∏–º–ø—Ç–æ–º—ã:**
- BillingComponent –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å ($260.00)
- DashboardComponent –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç $0.00
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç BillingComponent
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **DashboardComponent –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç fetchBalance** –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å useEffect** –≤ DashboardComponent
3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å API –≤—ã–∑–æ–≤–æ–º** –≤ fetchBalance

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:**
1. **–û—Ç–ª–∞–¥–∏—Ç—å fetchBalance** –≤ DashboardComponent
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å useEffect** –≤ DashboardComponent
3. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ fetchBalance

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ:**
1. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–∞–ª–∞–Ω—Å–∞
2. **–î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏** –¥–ª—è –±–∞–ª–∞–Ω—Å–∞

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!** 

- ‚úÖ **Rate limiting** –±–æ–ª—å—à–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **API Gateway** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–û—Å—Ç–∞–≤—à–∞—è—Å—è –ø—Ä–æ–±–ª–µ–º–∞:** DashboardComponent –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é $0.00 –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ $260.00.

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 95% –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–µ–Ω–æ! üöÄ

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 13 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** üü° **–ü–û–ß–¢–ò –ò–°–ü–†–ê–í–õ–ï–ù–û** (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DashboardComponent)
